**摘要**&emsp;2021年2月，我参与了某市智慧城市平台项目的研发，该项目主要目的是通过各种渠道获取该市中各种突发事件；通过对事件的紧急处理和数据分析产生决策并下发指令以提高办公效率。涉及众多部门的业务、系统集成以及各职能部门与指挥中心的交互，旨在为政府办公提供一个更快速、更便捷、更智能化的平台。本文以该系统为例，主要论述了结构化分析方法在该系统中的具体应用。通过数据流图描述系统功能组成；采用状态转换图对工单的状态进行判断；采用数据字典对数据进行详细和准确的描述。通过以上技术的使用，使得需求分析的质量得到保证，对后续项目的顺利实施提供了有力的支持，最终项目于2021年12月正式上线，并获得政府各级领导的一致好评。
**项目背景**&emsp;随着互联网的崛起，某市响应政府号召，为了解决该城市中紧急事件汇报不及时、上呈下达效率慢时间长、流程繁琐以及该市中存在不合理的隐匿问题以便更好的为市民服务；参考国外智能化建设的优势，决定发起智慧城市项目。2021年我所在的单位承接了该市智慧城市平台项目的开发和设计，我在项目中担任系统分析师职位，团队由1名架构师，1名分析师以及开发测试共20名成员组成，历时10个月，于当年12月正式上线，并得到市领导的好评，该项目的主要目的是经过各个渠道获取该市各种事件信息（安保事故、消防事故、交通事故、地震、洪涝灾害等突发事件）和数据（主要是政府各职能部门如林业局、公安局、交通局、消防大队等部门以及具体涉及高铁、机场、水库、公交、红绿灯、摄像头等相关设备的数据），通过对事件的紧急处理和数据分析产生决策并下发指令并监督执行过程以提高政府办公速度，更快捷、更高效的解决突发事件。对于此类涉及众多领域的项目，如何让项目顺利进行，需求分析起到至关重要的作用。
**技术过渡**&emsp;需求分析就是将杂乱无章的用户要求和期望转化为用户需求。要完成需求分析工作有很多方法。可以通过绘制上下文范围关系图(DFD)，定义系统与系统外部实体间的界限和接口，来确定需求范围；创建用户界面，帮助用户理解系统；分析需求的可行性，技术、经济、法律等；确定需求优先级，制定出系统研发的迭代计划；建立需求模型，帮助系统分析师理解系统，为软件设计提供系统的表示视图；创建数据字典以确保开发人员使用统一的数据定义；并使用QFD(质量功能部署)将产品的特性、属性和对用户的重要性联系起来。
**正文**&emsp;在智慧城市平台项目的前期，项目团队就已经指派分组对该市中各个职能部门通过用户访谈和问卷调查等方式获取了整体全面的需求，并整理汇总出了一份需求报告。通过这个报告项目团队对现场的情况有了更为详细的了解，经过项目团队负责人召开会议充分讨论后，决定在需求文档里尽量用图形代替冗长枯燥的文字去描述复杂的系统功能，最终通过评审，我们选择在需求分析时主要使用结构化分析方法，围绕数据字典建设、运用的数据流图、状态转换图来进行需求分析工作。
&emsp;数据流图的运用。为了向客户清楚地描述系统由哪些部分组成，我们利用DFD将指挥中心系统的事件搜集、事件分类、智能分析、自动化决策支持、指令下发、监督执行等几个功能模块的输入输出用一系列的处理连接起来，用图形符号准确的描述系统内各功能部件及数据在它们之间的传递情况，简明易懂。再利用DFD分别对事件搜集、事件分类、智能分析、自动化决策支持、指令下发、监督执行等功能模块进行分解，使得整个指挥中心系统的复杂处理过程得以采用图形化的方式来描述，减少了大量篇幅的文字描述，使需求分析文档看上去非常简洁。同样我们使用数据流图对各个职能部门的系统例如公安、交通、消防、水利等部门的系统进行了分解描述。使得整个需求文档看上去更清晰，尽量避免让客户去看那些枯燥冗长的文章，让即使是不懂技术的客户看完这些图，也能理解系统的数据处理过程。
&emsp;状态转换图的运用。DFD仅仅描述了系统的功能组成部分及功能间联系，而系统运行过程中需要对事件以及派发出去的工单的状态做大量的判断，如事故的紧急程度和上报数量、决策指令的审核进度，工单的处理状况等。这些状态判断靠事件驱动，为了将这些状态描述清楚，我们在需求分析过程中还使用了状态转换图。STD描述了系统如何在各种状态之间移动，如某市民上报紧急事件，通过网格员确认筛选后并打上标签，进入指挥中心并处于上报状态，在系统分析时需要根据语义匹配以及标签将事件的属性以及细化后的分类从中解析出来，分析决策的时候才能匹配到具体的相应职责部门，处于指派中状态，当紧急事件对应的工单被指派部门的员工接受后才会扭转为处理中状态。通过使用STD，能清除地描述上报事件的状态转换过程，选择合适的输出、指挥中心系统的过程非常复杂，需要分析的实体状态非常多。
&emsp;数据字典的使用。数据字典是对系统用到的所有数据项和结构进行定义，是结构化分析方法的核心，数据字典解决了DFD对详细内容无法具体、准确描述的问题，是对DFD的强力补充。智慧城市平台项目数据结构非常复杂，数据字典的设计要求非常高。包括对接的各职能部门系统以及与之交互的指挥中心系统共设计800多张数据表。为了保障数据字典的完整性和一致性，我安排了专门的数据库管理员对数据字典进行管理，项目团队任何人要调整数据字典都必须交由该专人进行调整，并且对所有变更都必须由系统分析师签字，变更记录必须邮件及时发送给其它团队负责人及本组成员。
**总结与感言**&emsp;通过使用结构化分析方法，使得需求分析工作完成得非常顺利，需求分析的质量得到了保证，对后续项目的顺利实施提供了有力的支持。整个项目历时10个月完成，于当年12月顺利上线且到目前为止稳定运行，各项质量指标达到了客户的要求，得到各级市领导的一致好评。但同时也存在一些不足，由于在需求分析的过程中忽略了对决策流程的灵活性，导致维护期用户提出的对指挥中心系统中的决策流程变更需要进行代码进行多次修改，耗费了一些人力成本，后期我们使用了主流的业务流程编排框架完美的解决了决策流程的灵活配置问题。通过以上实践证明，合理的利用结构化分析中的数据流图、状态转换图、数据字典进行需求分析，可以有效的降低项目风险，对项目的顺利进行起到了至关重要的作用。作为该项目的分析师，我会总结这个阶段的经验教训，在后续系统升级完善中，不断思考和改进需求分析方法使用中的不足，在后续项目中充分发挥需求分析技术的更大作用，为公司创造利益的同时，也为客户开发出更稳定更高效的系统。